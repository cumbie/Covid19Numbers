<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:prism="http://prismlibrary.com"
             prism:ViewModelLocator.AutowireViewModel="True"
             x:Class="Covid19Numbers.Views.GlobalHistoricalPage"
             Title="Global History">

  <RefreshView IsRefreshing="{Binding IsRefreshing}" Command="{Binding RefreshCommand}"
                 VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
    <ScrollView>

      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="auto"/>
          <RowDefinition Height="auto"/>
          <RowDefinition Height="auto"/>
          <RowDefinition Height="auto"/>
          <RowDefinition/>
        </Grid.RowDefinitions>

        <Label Text="High Day" Style="{StaticResource LabelHeading1}" HorizontalOptions="FillAndExpand" HorizontalTextAlignment="Center"/>
        <Label Grid.Row="1" Text="Low Day" Style="{StaticResource LabelHeading1}" HorizontalOptions="FillAndExpand" HorizontalTextAlignment="Center"/>

        <Label Grid.Row="2" Text="Historical" Style="{StaticResource LabelHeading1}" HorizontalOptions="FillAndExpand" HorizontalTextAlignment="Center"/>

        <Grid Grid.Row="3" Margin="5,0" BackgroundColor="LightGray">          <Grid.ColumnDefinitions>            <ColumnDefinition/>               <ColumnDefinition/>               <ColumnDefinition/>               <ColumnDefinition/>             </Grid.ColumnDefinitions>

          <Label FontSize="12" FontAttributes="Bold" Text="Date" HorizontalOptions="StartAndExpand" HorizontalTextAlignment="Start" VerticalTextAlignment="Center"/>
          <Label Grid.Column="1" FontSize="12" FontAttributes="Bold" Text="Cases" HorizontalOptions="StartAndExpand" VerticalTextAlignment="Center"/>
          <Label Grid.Column="2" FontSize="12" FontAttributes="Bold" Text="Deaths" HorizontalOptions="StartAndExpand" VerticalTextAlignment="Center"/>
          <Label Grid.Column="3" FontSize="12" FontAttributes="Bold" Text="Recovered" HorizontalOptions="StartAndExpand" VerticalTextAlignment="Center"/>

        </Grid>

        <ListView Grid.Row="4" ItemsSource="{Binding History}" BackgroundColor="White" SelectionMode="None">
          <ListView.ItemTemplate>            <DataTemplate>              <ViewCell>                <Grid ColumnSpacing="4" Margin="5,0">                  <Grid.RowDefinitions>                    <RowDefinition/>                    <RowDefinition/>                  </Grid.RowDefinitions>                  <Grid.ColumnDefinitions>                    <ColumnDefinition Width="auto"/>                       <ColumnDefinition/>                       <ColumnDefinition/>                       <ColumnDefinition/>                     </Grid.ColumnDefinitions>                  <Label Grid.RowSpan="2" FontSize="11" FontAttributes="Bold" Text="{Binding Date, StringFormat='{0:MM/dd/yy}'}" VerticalTextAlignment="Center"/>                  <Label Grid.Column="1" FontSize="11" FontAttributes="Bold" Text="{Binding Cases, StringFormat='{0:0,0}'}" HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                  <StackLayout Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="0">                    <Label FontSize="10" Text="{Binding NewCases, StringFormat='{0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding DeltaCases, StringFormat=' ({0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding DeltaCases, Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="End" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding CasesUp, StringFormat='{0})', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding CasesUp, Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="End"/>                  </StackLayout>                  <Label Grid.Column="2" FontSize="11" FontAttributes="Bold" Text="{Binding Deaths, StringFormat='{0:0,0}'}" HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                  <StackLayout Grid.Row="1" Grid.Column="2" Orientation="Horizontal" Spacing="0">                    <Label FontSize="10" Text="{Binding NewDeaths, StringFormat='{0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding DeltaDeaths, StringFormat=' ({0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding DeltaDeaths, Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="End" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding DeathsUp, StringFormat='{0})', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding DeathsUp, Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="End"/>                  </StackLayout>                  <Label Grid.Column="3" FontSize="11" FontAttributes="Bold" Text="{Binding Recovered, StringFormat='{0:0,0}'}" HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                  <StackLayout Grid.Row="1" Grid.Column="3" Orientation="Horizontal" Spacing="0">                    <Label FontSize="10" Text="{Binding NewRecovered, StringFormat='{0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         HorizontalOptions="EndAndExpand" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding DeltaRecovered, StringFormat=' ({0:0,0}', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding DeltaRecovered, Converter={StaticResource PlusMinusStringConverter}, ConverterParameter={StaticResource TrueValue}}"                         HorizontalOptions="End" VerticalTextAlignment="Center"/>                    <Label FontSize="10" Text="{Binding RecoveredUp, StringFormat='{0})', Converter={StaticResource PlusMinusStringConverter}}"                         TextColor="{Binding RecoveredUp, Converter={StaticResource PlusMinusStringConverter}, ConverterParameter={StaticResource TrueValue}}"                         HorizontalOptions="End"/>                  </StackLayout>                </Grid>              </ViewCell>            </DataTemplate>          </ListView.ItemTemplate>
        </ListView>
      </Grid>

    </ScrollView>
  </RefreshView>
</ContentPage>